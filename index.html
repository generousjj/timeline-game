<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timeline Game</title>
    <style>
        /* Add some basic styling */
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
        }

        #deck {
            flex: 1;
            background-color: gray;
            padding: 1rem;
            margin-right: 1rem;
        }

        #top-card {
            background-color: white;
            padding: 1rem;
            margin-bottom: 1rem;
            cursor: pointer;
        }

        #playing-area {
            flex: 3;
            background-color: white;
            padding: 1rem;
            position: relative;
        }

        .card {
            background-color: white;
            padding: 1rem;
            margin-bottom: 1rem;
            cursor: move;
        }

        #placeholder {
            background-color: lightblue;
            padding: 1rem;
            margin-bottom: 1rem;
            display: none;
        }

        #check-btn {
            position: fixed;
        }
    </style>
</head>
<body>
    <div id="deck">
        <div id="top-card">Top Card</div>
        <button id="skip-btn">Skip</button>
    </div>
    <div id="playing-area">
        <div id="placeholder">Drag cards from the left to play!</div>
        <button id="check-btn">Check Results</button>
    </div>

    <script>
        const cards = [
            { name: 'Signing of the Declaration of Independence', date: '1776' },
            { name: 'Start of the American Revolution', date: '1775' },
            { name: 'End of the American Revolution', date: '1783' },
            { name: 'Signing of the United States Constitution', date: '1787' },
        ];

        const cardDeck = [...cards];
        let userInteracted = false;
        const topCard = document.querySelector('#top-card');
        const skipBtn = document.querySelector('#skip-btn');
        const playingArea = document.querySelector('#playing-area');
        const checkBtn = document.querySelector('#check-btn');
        const placeholder = document.querySelector('#placeholder');

        function updateTopCard() {
            if (cardDeck.length) {
                topCard.textContent = cardDeck[0].name;
                topCard.dataset.date = cardDeck[0].date;
            } else {
                topCard.textContent = 'Deck is empty';
                topCard.dataset.date = '';
            }
        }

        checkBtn.style.right = '1rem';
        checkBtn.style.bottom = '1rem';

        window.addEventListener('beforeunload', (e) => {
            if (userInteracted) {
                e.preventDefault();
                e.returnValue = '';
            }
        });

        skipBtn.addEventListener('click', () => {
            if (cardDeck.length) {
                const skippedCard = cardDeck.shift();
                cardDeck.push(skippedCard);
                updateTopCard();
            }
        });

        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        shuffle(cardDeck);
        updateTopCard();
    </script>
</body>
</html>
